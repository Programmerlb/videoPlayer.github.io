<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="videoTitle">Title</h1>
    <div id="videoPlayer"></div>
    <br>
    <p id="videoDesc">Description</p>
    
    <script>
        const vid1 = {
            id: 1,
            title: "Trailer of Series",
            desc: "This is a short trailer",
            VideoUrl: "https://www.youtube.com/embed/G84p7eCplkI?si=9_qcF0epQL3mqY66" 
        };
        const vid2 = {
            id: 2,
            title: "Programming Session",
            desc: "This is a Programming Session",
            VideoName: "session.mp4"
        };

        const videos = [vid1, vid2];
        const title = document.getElementById("videoTitle");
        const videoPlayer = document.getElementById("videoPlayer");
        const description = document.getElementById("videoDesc");
        const urlParams = new URLSearchParams(window.location.search);
        const videoId = urlParams.get("id");

        if(!videoId){
            window.location.href = "file:///C:/Users/Ali%20Rammal/Desktop/Resources/Web%20Development/youbee%20course/videos/index.html";
        }

        let currentVideo;
        
        
        videos.forEach(function(video){
            if(video.id == videoId){
                currentVideo = video;
            }
        });

        if(!currentVideo){
            window.location.href = "file:///C:/Users/Ali%20Rammal/Desktop/Resources/Web%20Development/youbee%20course/videos/index.html";
        }

        title.innerHTML = currentVideo.title;
        description.innerHTML = currentVideo.desc;
        

        if (currentVideo.VideoUrl) {
            const iframe = document.createElement("iframe");
            iframe.width = "720";
            iframe.height = "480";
            iframe.frameBorder = "0";
            iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
            iframe.allowFullscreen = true;
            iframe.src = currentVideo.VideoUrl;
            videoPlayer.appendChild(iframe);
        } else if (currentVideo.VideoName) {
            const video = document.createElement("video");
            video.width = "720";
            video.height = "480";
            video.controls = true;
            const source = document.createElement("source");
            source.src = currentVideo.VideoName;
            source.type = "video/mp4";
            video.appendChild(source);
            videoPlayer.appendChild(video);
        }
    </script>
</body>
</html>
